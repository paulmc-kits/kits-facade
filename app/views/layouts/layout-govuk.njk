{% extends "govuk/template.njk" %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}
{% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{% from "govuk/components/skip-link/macro.njk" import govukSkipLink %}

{% set htmlLang = "en" %}
{% set themeColor = "blue" %}

{% block pageTitle %}GOV.UK - Find transport data{% endblock %}

{% block headIcons %}
  {{ super() }}
{% endblock %}

{% block head %}
  {% include "includes/head.njk" %}
{% endblock %}

{% block bodyStart %}
  {# TODO: Move this to an include #}
  {{ govukCookieBanner({
    ariaLabel: "Cookies on Find transport service",
    messages: [
      {
        headingText: "Cookies on Find transport service",
        html: "<p class=\"govuk-body\">We use some essential cookies to make this service work.</p>
               <p class=\"govuk-body\">We'd also like to use analytics cookies so we can understand how you use the service and make improvements.</p>",
        actions: [
          {
            text: "Accept analytics cookies",
            type: "button",
            name: "cookies",
            value: "accept"
          },
          {
            text: "Reject analytics cookies",
            type: "button",
            name: "cookies",
            value: "reject"
          },
          {
            text: "View cookies",
            href: "/cookies"
          }
        ]
      }
    ]
  }) }}
{% endblock %}

{% block skipLink %}
  {{ govukSkipLink({
    href: "#main-content",
    text: "Skip to main content"
  }) }}
{% endblock %}

{% block header %}
  {# TODO: env config this #}
  {{ govukHeader({
    serviceName: "Find transport data",
    serviceUrl: "/",
    navigation: [
      {
        href: "/browse",
        text: "Browse datasets",
        active: true
      },
      {
        href: "/login",
        text: "Sign in"
      },
      {
        href: "#",
        text: "[search box]"
      }
    ]
  }) }}
{% endblock %}

{% block main %}
  {{ super() }}
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}
  {# {{ govukBackLink({
    href: "#",
    text: "Back"
  }) }} #}
  {% block breadcrumbs %}{% endblock %}
{% endblock %}

{% block content %}
{% endblock %}

{% block footer %}
  {% include "components/footer.njk" %}
{% endblock %}

{% block bodyEnd %}
  {% block scripts %}
    {% include "includes/scripts.njk" %}
    {% block pageScripts %}{% endblock %}
  {% endblock %}
{% endblock %}