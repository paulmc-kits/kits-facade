{% from "govuk/components/button/macro.njk" import govukButton %}

{% extends "layouts/layout-govuk.njk" %}

{% block head %}
    {{ super() }}
    {# TODO: Fix this when cookie JS sorted in other ticket #}
    <script src="/assets/js/cookiePreferences.js" defer></script>
{% endblock head %}

{# TODO: Sort out super title & how to pass it in #}
{% set title = "Cookies" %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h1 class="govuk-heading-xl">
                Cookies
            </h1>

            <p class="govuk-body-l">
                Cookies are small files saved on your phone, tablet or computer when you visit a website.
            </p>

            <p class="govuk-body">
                We use cookies to make this site work and collect information about how you use our service.
            </p>

            <h2 class="govuk-heading-m">Essential cookies</h2>
            <p class="govuk-body">
                Essential cookies keep your information secure while you use this site. We do not need to ask permission to use them.
            </p>
            <table class="govuk-table">
                <caption class="govuk-visually-hidden">Essential cookies</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">Name</th>
                        <th scope="col" class="govuk-table__header">Purpose</th>
                        <th scope="col" class="govuk-table__header">Expires</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                            ckan
                        </td>
                        <td width="50%" class="govuk-table__cell">
                            Used to keep you signed in
                        </td>
                        <td class="govuk-table__cell">
                            20 hours
                        </td>
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                            cookie_policy
                        </td>
                        <td width="50%" class="govuk-table__cell">
                            Saves your cookie consent settings
                        </td>
                        <td class="govuk-table__cell">
                            1 year
                        </td>
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                            hide_cookie_policy
                        </td>
                        <td width="50%" class="govuk-table__cell">
                            Hide cookies banner at top
                        </td>
                        <td class="govuk-table__cell">
                            1 year
                        </td>
                    </tr>
                </tbody>
            </table>

            <h2 class="govuk-heading-m">Analytics cookies (optional)</h2>
            <p class="govuk-body">
                With your permission, we use Google Analytics to collect data about how you use this site. This information helps us to improve our service.
            </p>
            <p class="govuk-body">
                Google is not allowed to use or share our analytics data with anyone.
            </p>
            <p class="govuk-body">
                Google Analytics stores anonymised information about:
            </p>
            <ul class="govuk-list govuk-list--bullet">
                <li>how you got to this site</li>
                <li>the pages you visit on this site and how long you spend on them</li>
                <li>any errors you see while using this site</li>
            </ul>
            <table class="govuk-table">
                <caption class="govuk-visually-hidden">Google Analytics cookies</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">Name</th>
                        <th scope="col" class="govuk-table__header">Purpose</th>
                        <th scope="col" class="govuk-table__header">Expires</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                            _ga
                        </td>
                        <td width="50%" class="govuk-table__cell">
                            Checks if you&apos;ve visited this site before. This helps us count how many people visit our site.
                        </td>
                        <td class="govuk-table__cell">
                            2 years
                        </td>
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                            _gid
                        </td>
                        <td width="50%" class="govuk-table__cell">
                            Checks if you&apos;ve visited this site before. This helps us count how many people visit our site.
                        </td>
                        <td class="govuk-table__cell">
                            24 hours
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="cookie-settings__no-js">
                <h2 class="govuk-heading-s govuk-!-margin-top-6">Do you want to accept analytics cookies?</h2>
                <p class="govuk-body">We use Javascript to set our analytics cookies. Unfortunately Javascript is not running on your browser, so you cannot change your settings. You can try:</p>
                <ul class="govuk-list govuk-list--bullet">
                <li>reloading the page</li>
                <li>turning on Javascript in your browser</li>
                </ul>
            </div>
            <div class="cookie-settings__form-wrapper">
                <form data-module="cookie-settings" action="javascript:saveCookieChoice()">
                <div class="govuk-form-group govuk-!-margin-top-6">
                    <fieldset class="govuk-fieldset" aria-describedby="changed-name-hint">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        Do you want to accept analytics cookies?
                    </legend>
                    <div class="govuk-radios govuk-radios--inline">
                        <div class="govuk-radios__item" data-children-count="1">
                        <input class="govuk-radios__input" id="cookies-analytics-yes" name="cookies-analytics" type="radio" value="on">
                        <label class="govuk-label govuk-radios__label" for="cookies-analytics-yes">
                            Yes
                        </label>
                        </div>
                        <div class="govuk-radios__item" data-children-count="1">
                        <input class="govuk-radios__input" id="cookies-analytics-no" name="cookies-analytics" type="radio" value="off">
                        <label class="govuk-label govuk-radios__label" for="cookies-analytics-no">
                            No
                        </label>
                        </div>
                    </div>
                    </fieldset>
                </div>
                {{ govukButton({
                    text: "Save cookie settings",
                    type: "submit"
                }) }}
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
  {{ super() }}
  <script>
    alert('cookies javascript')
  </script>
{% endblock %}
